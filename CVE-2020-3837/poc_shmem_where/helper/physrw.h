#include <unistd.h>

#define min(a, b) (((a) < (b)) ? (a) : (b))
#define max(a, b) (((a) > (b)) ? (a) : (b))

int physreadbuf(uint64_t pa, void* output, size_t size);
uint64_t physread64(uint64_t pa);
uint32_t physread32(uint64_t pa);
uint16_t physread16(uint64_t pa);

int physwritebuf(uint64_t pa, const void* input, size_t size);
int physwrite8(uint64_t pa, uint8_t v);
int physwrite16(uint64_t pa, uint16_t v);

int physrw_handoff(pid_t pid);
uint64_t ua_to_pa(uint64_t ua);

uint32_t kread32_phys(uint64_t where);

uint64_t kread64_phys(uint64_t where);

void kwrite32_phys(uint64_t where, uint32_t what);

void kwrite64_phys(uint64_t where, uint64_t what);

uint64_t phystokv(uint64_t pa);